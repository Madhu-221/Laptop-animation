<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laptop-animation</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
  <div class="laptop-animation-wrap">
  <div class="container">
    <div class="brands-wrap">
      <h2>We've had the privilege of collaborating with some remarkable individuals.</h2>
      <div class="logo-wrap">
        <div class="logo-image-box">
          <img src="./images/starbuck_logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/Rev_Logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/hadsup-logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/Rev_Logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/haptik-logo.svg" alt="">
        </div>
      </div>
      <div class="logo-wrap">
        <div class="logo-image-box">
          <img src="./images/starbuck_logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/Rev_Logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/hadsup-logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/Rev_Logo.svg" alt="">
        </div>
        <div class="logo-image-box">
          <img src="./images/haptik-logo.svg" alt="">
        </div>
      </div>
    </div>
    
    <div class="mockup mockup-macbook loaded opened" id="myDIV">
      <div class="part top">
        <img src="https://d1xm195wioio0k.cloudfront.net/images/mockup/macbook-top.svg" alt="" class="top" >
        <img src="https://d1xm195wioio0k.cloudfront.net/images/mockup/macbook-cover.svg" alt="" class="cover">
        <video  loop width="500" height="500"  muted autoplay>
          <source src= "http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4" type="video/mp4">
        </video>
      </div>
      <div class="part bottom">
        <img src="https://d1xm195wioio0k.cloudfront.net/images/mockup/macbook-cover.svg" alt="" class="cover">
        <img src="https://d1xm195wioio0k.cloudfront.net/images/mockup/macbook-bottom.svg" alt="" class="bottom">
      </div>
    </div>
  </div>
</div>
  <button class="video-click-button" onclick="myFunction()">Try it</button>
  <div class="dummy-spacer">
<h2>Scroll Up</h2>
  </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.0/ScrollTrigger.min.js"></script>

<script>
  const laptopAnimation = gsap.timeline({ paused: true });
  laptopAnimation.to(".mockup .part.top", {
    rotationX: -90,
    duration: 10, 
    ease: "power4.out", 
  });

  ScrollTrigger.create({
    animation: laptopAnimation,
    trigger: "#myDIV",
    start: "center center",
    end: "bottom top",
    scrub: true,
    onEnterBack: () => {
      laptopAnimation.reversed(!laptopAnimation.reversed());
    },
  });

  const videoElement = document.querySelector("video");
  const videoDuration = videoElement.duration;

  ScrollTrigger.create({
    trigger: "#myDIV",
    start: "top top",
    end: "bottom bottom",
    onUpdate: (self) => {
      const progress = self.progress;
      const currentTime = progress * videoDuration;
      videoElement.currentTime = currentTime;
    },
    scrub: 0.1,
  });

  function toggleLaptopAnimation() {
    laptopAnimation.paused(!laptopAnimation.paused());
  }

  const button = document.querySelector(".video-click-button");
  button.addEventListener("click", toggleLaptopAnimation);
</script>

</body>
</html>